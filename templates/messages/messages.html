{% extends "layout/base.html" %}
{% from 'layout/macros.html' import notification_navs %}
{% from 'messages/macros.html' import message_box, add_or_edit_modal, add_btn %}

{% block notification_navs %}
<!-- This is a function to display the notification tabs: The two arguments are for the badges -->
{{ notification_navs(new_u, new_g) }}
{% endblock%}

{% block content %}

<!-- Leave a note button -->
{{ add_btn() }}

<!-- Displaying all the messages on the main page -->
{% if messages %}
{% for message in messages %}
{{ message_box(message, all_messages = true, trunc = 'text-truncate') }}
{% endfor %}
{% endif %}

{{ add_or_edit_modal(form=form, modal_id='addModal', add=true) }}

{% endblock %}

{% block scripts%}
<script>
  $(document).ready(function () {    
    for (var i = 0; i < 300; i++) {
      $('#badge_u').fadeOut(900).fadeIn(900);
      $('#badge_g').fadeOut(900).fadeIn(900);
    }
  });
</script>
{% endblock %}