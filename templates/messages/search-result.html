{% extends "layout/base.html" %}
{% from 'layout/macros.html' import notification_navs %}
{% from 'messages/macros.html' import message_box, add_or_edit_modal, add_btn, badge_anim %}

{% block notification_navs %}
<!-- This is a function to display the notification tabs: The two arguments are for the badges -->
{{ notification_navs(new_u, new_g) }}
{% endblock%}

{% block content %}

<!-- Leave a note button -->
{{ add_btn(title='Leave a Note') }}

<!-- Displaying all the messages on the main page -->
{% if messages %}
<h4>Search results for <span class="blue-text">{{search_key}}</span></h4>
{% for message in messages %}
{{ message_box(message, all_messages = true, trunc = 'text-truncate') }}
{% endfor %}
{% else %}
<h4>
  Sorry
  <i class="far fa-sad-tear amber-text"></i>
  No results for <span class="blue-text">{{search_key}}</span>
</h4>
{% endif %}

{{ add_or_edit_modal(form=form, modal_id='addModal', add=true) }}

{% endblock %}

{% block scripts%}
{{ badge_anim() }}
{% endblock %}